<!-- Page Header-->
<header class="shadow-sm px-4 py-3 z-index-20">
  <div class="container-fluid row px-0">
    <div class="col-sm-6 text-start">
      <h2>User List</h2>
    </div>
    <div class="col-sm-6 text-end">
      <button mat-raised-button color="warn" (click)="onAddUser()">{{LABEL.ADD_USER_TITLE}}</button>
    </div>
  </div>
</header>
<mat-card class="m-4">
  <mat-card-header>
    <label class="mt-3 px-2">{{LABEL.SEARCH}} : </label>
    <mat-form-field>
      <input matInput (keyup)="filterData($event)" placeholder="Enter the text" />
    </mat-form-field>
  </mat-card-header>
  <mat-card-content>
    <table matSort mat-table [dataSource]="dataSource" aria-describedby="">
      <ng-container matColumnDef="id">
        <th mat-sort-header mat-header-cell *matHeaderCellDef>{{LABEL.ID}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.id}}</td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-sort-header mat-header-cell *matHeaderCellDef>{{LABEL.NAME}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.firstName}} {{ele.lastName}}</td>
      </ng-container>
      <ng-container matColumnDef="emailId">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.EMAIL_ID}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.emailId}}</td>
      </ng-container>
      <ng-container matColumnDef="mobileNo">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.MOBILE_NO}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.mobileNo}}</td>
      </ng-container>
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.ADDRESS}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.addressLine1}}, {{ele.addressLine2}}</td>
      </ng-container>
      <ng-container matColumnDef="country">
        <th mat-sort-header mat-header-cell *matHeaderCellDef>{{LABEL.COUNTRY}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.country}}</td>
      </ng-container>
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.STATE}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.state}}</td>
      </ng-container>
      <ng-container matColumnDef="city">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.CITY}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.city}}</td>
      </ng-container>
      <ng-container matColumnDef="zipCode">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.ZIP_CODE}}</th>
        <td mat-cell *matCellDef="let ele">{{ele.zipCode}}</td>
      </ng-container>
      <ng-container matColumnDef="userStatus">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.USER_STATUS}}</th>
        <td mat-cell *matCellDef="let ele" [ngClass]="ele.userStatus==='Active' ? 'text-success' : 'text-danger'">{{ele.userStatus}}</td>
      </ng-container>
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>{{LABEL.ACTION}}</th>
        <td mat-cell *matCellDef="let ele">
          <div fxLayout="fill">
            <button mat-icon-button color="primary" (click)="onEditUser(ele.id)"><mat-icon>edit</mat-icon></button>
            @if(ele.userStatus === 'Active'){
              <button mat-icon-button color="warn" (click)="openDialog(ele.id)"><mat-icon>toggle_on</mat-icon></button>
            }
            @else{
              <button mat-icon-button color="accent" (click)="openDialog(ele.id)"><mat-icon>toggle_off</mat-icon></button>
            }
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
      <tr mat-row *matRowDef="let row; columns:displayColumns;"></tr>
    </table>
  </mat-card-content>
  <mat-card-footer>
    <mat-paginator [pageSizeOptions]="LABEL.PAGE_SIZE_OPTION" showFirstLastButtons></mat-paginator>
  </mat-card-footer>
</mat-card>

